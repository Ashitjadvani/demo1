<section class="client-management">
    <div class="row">
        <div class="col-md-12">
            <nav>
                <ol class="breadcrumb box-style">
                  <li class="breadcrumb-item">{{'INSIGHTS_MENU.ASSETS_MANAGEMENT' | translate}}</li>
                  <li routerLink="/assets-management/resource-group" class="breadcrumb-item">{{'INSIGHTS_MENU.Resource_Group' | translate}}</li>
                  <li class="breadcrumb-item active" aria-current="page"><span>{{this.currentResourceGroup? ('ASSETS_MANAGEMENT.editResourceGroup'| translate): ('ASSETS_MANAGEMENT.AddResourceGroup'| translate)}}</span> </li>
                </ol>
            </nav>
        </div>
        <div class="col-md-12">
            <div class="table-content box-style">
                <div class="table-heading">
                    <h3 style="font-weight: 600"><span>{{this.currentResourceGroup? ('ASSETS_MANAGEMENT.editResourceGroup'| translate): ('ASSETS_MANAGEMENT.AddResourceGroup'| translate)}}</span> </h3>
                    <div class="search-form-wrapper">
                        <div class="buttons-group">
                            <p><span style="color:#EA5455">*</span> {{'GENERAL.Indicates a required field'|translate}}</p>
                        </div>
                    </div>
                </div>
                <div class="form-content-box">
                    <form class="w-100" name="addResourceGroupForm" [formGroup]= "addResourceGroupForm"  novalidate
                    (ngSubmit)="saveResourceGroup()"
                    #myform="ngForm" >
                        <div class="row">
                            <div class="col-xl-6 col-xxl-4">
                                <div class="form-field">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <mat-label>{{'ASSETS_MANAGEMENT.Resource Type' | translate}}<span style="color:#EA5455">*</span></mat-label>
                                        <mat-select formControlName="type" [(ngModel)]="this.resourceTypeEdit" (ngModelChange)="selectResourceType($event)">
                                            <mat-option>{{'ASSETS_MANAGEMENT.selectResourceType'|translate}}</mat-option>
                                            <mat-option *ngFor="let resourceType of resourceTypeList" [value]="resourceType">{{resourceType.name}}</mat-option>
                                        </mat-select>
                                        <mat-error *ngIf="addResourceGroupForm.controls.type.errors?.required">
                                           {{'EVENT_MANAGEMENT.PleaseSelectResource'|translate}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-xl-12 col-xxl-12" *ngIf="permission?.enableName ===true">
                                <div class="form-field error-message-custom">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <mat-label>{{permission?.alternativeName===''?('ASSETS_MANAGEMENT.Name'| translate):(permission?.alternativeName | translate)}}<span style="color:#EA5455">*</span></mat-label>
                                        <input  type="text" formControlName="name" matInput name="name" >
                                        <mat-error *ngIf="addResourceGroupForm.controls.name.errors?.required" >
                                            {{'ASSETS_MANAGEMENT.pleaseEnter'|translate}}{{permission?.alternativeName===''?('ASSETS_MANAGEMENT.Name'| translate):(permission?.alternativeName | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-xl-12 col-xxl-12" *ngIf="permission?.enableDescription ===true">
                                <div class="form-field error-message-custom date-picker-style">
                                  <mat-form-field appearance="outline" class="element-full-width">
                                    <mat-label>{{permission?.alternativeDescription===''?('ASSETS_MANAGEMENT.Description'| translate):(permission?.alternativeDescription | translate)}}<span style="color:#EA5455">*</span></mat-label>
                                    <textarea formControlName="description" matInput placeholder="{{'GENERAL.TypeHere' | translate}}"  type="text"></textarea>
                                    <mat-error *ngIf="addResourceGroupForm.controls.description.errors?.required">
                                        {{'ASSETS_MANAGEMENT.pleaseEnter'|translate}}{{permission?.alternativeDescription===''?('ASSETS_MANAGEMENT.Description'| translate):(permission?.alternativeDescription | translate)}}
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                            </div>
                        </div>
                            <div class="row">
                                <div *ngIf="permission?.enableAvailabilityStart ===true" class="col-xl-6 col-xxl-4">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input matInput [ngxTimepicker]="pickerStartTime1" formControlName="availabilityStart" [placeholder]="permission?.alternativeAvailabilityStart===''?('ASSETS_MANAGEMENT.Availability Start'| translate):(permission?.alternativeAvailabilityStart | translate)" [format]="24">
                                        <mat-icon matSuffix (click)="pickerStartTime1.open()">schedule</mat-icon>
                                        <ngx-material-timepicker   #pickerStartTime1 [format]="24" >
                                        </ngx-material-timepicker>
                                        <mat-error *ngIf="addResourceGroupForm.controls.availabilityStart.errors?.required">
                                            {{'ASSETS_MANAGEMENT.pleaseEnter'|translate}}{{permission?.alternativeAvailabilityStart===''?('ASSETS_MANAGEMENT.Availability Start'| translate):(permission?.alternativeAvailabilityStart | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div *ngIf="permission?.enableAvailabilityHours ===true" class="col-xl-6 col-xxl-4">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input formControlName="availabilityHoursAfterStart" type="number" matInput [placeholder]="permission?.alternativeAvailabilityHours===''?('ASSETS_MANAGEMENT.Availability Hours'| translate):(permission?.alternativeAvailabilityHours | translate)">
                                        <mat-error *ngIf="addResourceGroupForm.controls.availabilityHoursAfterStart.errors?.required">
                                            {{'ASSETS_MANAGEMENT.pleaseEnter' |translate}}{{permission?.alternativeAvailabilityHours===''?('ASSETS_MANAGEMENT.Availability Hours'| translate):(permission?.alternativeAvailabilityHours | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div *ngIf="permission?.enableMinimumReservedPool ===true" class="col-xl-6 col-xxl-4">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input type="number" formControlName="minimumReservedPool" matInput [placeholder]="permission?.alternativeMinimumReservedPool===''?('ASSETS_MANAGEMENT.Minimum Reserved Pool'| translate):(permission?.alternativeMinimumReservedPool | translate)">
                                        <mat-error *ngIf="addResourceGroupForm.controls.minimumReservedPool.errors?.required">
                                            {{'ASSETS_MANAGEMENT.pleaseEnter' |translate}}{{permission?.alternativeMinimumReservedPool===''?('ASSETS_MANAGEMENT.Minimum Reserved Pool'| translate):(permission?.alternativeMinimumReservedPool | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div *ngIf="permission?.enablePriorityStart ===true" class="col-xl-6 col-xxl-4">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input [ngxTimepicker]="pickerStartTimeP1" formControlName="priorityAvailabilityStart" matInput [placeholder]="permission?.alternativePriorityStart===''?('ASSETS_MANAGEMENT.Priority Start'| translate):(permission?.alternativePriorityStart | translate)" [format]="24">
                                        <mat-icon matSuffix (click)="pickerStartTimeP1.open()">schedule</mat-icon>
                                        <mat-error
                                            *ngIf="addResourceGroupForm.controls.priorityAvailabilityStart.errors?.required">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativePriorityStart===''?('ASSETS_MANAGEMENT.Priority Start'| translate):(permission?.alternativePriorityStart | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                    <ngx-material-timepicker  (timeChanged)="priorityTimeChange($event)" #pickerStartTimeP1 [format]="24">
                                    </ngx-material-timepicker>
                                </div>
                                <div *ngIf="permission?.enablePriorityEnd ===true" class="col-xl-6 col-xxl-4">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input [ngxTimepicker]="pickerStartTimeP2" [min]="priorityTimeValue" formControlName="priorityAvailabilityEnd" matInput [placeholder]="permission?.alternativePriorityEnd===''?('ASSETS_MANAGEMENT.Priority End'| translate):(permission?.alternativePriorityEnd | translate)" [format]="24">
                                        <mat-icon matSuffix (click)="pickerStartTimeP2.open()">schedule</mat-icon>
                                        <mat-error
                                            *ngIf="addResourceGroupForm.controls.priorityAvailabilityEnd.errors?.required">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativePriorityEnd===''?('ASSETS_MANAGEMENT.Priority End'| translate):(permission?.alternativePriorityEnd | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                    <ngx-material-timepicker #pickerStartTimeP2 [format]="24">
                                    </ngx-material-timepicker>
                                </div>
                                <div class="col-xl-6 col-xxl-4"></div>
                            </div>
                            <div *ngIf="permission?.enablePriorityTag ===true" class="col-xl-12 col-xxl-12">
                                <mat-form-field appearance="outline" class="element-full-width mat-form-field-outline-thick mat-form-field-invalid" [ngClass]="{'mat-form-field-outline-thick mat-form-field-invalid' : submitted && priorityAvailabilityTags.length ===0 && this.permission?.requiredPriorityTag === true}">
                                    <mat-chip-list #chipList aria-label="Priority Tags">
                                        <mat-chip *ngFor="let tag of priorityAvailabilityTags" [selectable]="false"
                                                  [removable]="true" (removed)="onRemovePriorityTag(tag)">
                                            {{ tag }}
                                            <mat-icon matChipRemove>cancel</mat-icon>
                                        </mat-chip>
                                        <input [placeholder]="permission?.alternativePriorityTag===''?('ASSETS_MANAGEMENT.Priority Tag'| translate):(permission?.alternativePriorityTag | translate)" #fruitInput [formControl]="tagFC"
                                               [matChipInputFor]="chipList"
                                               [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                               (matChipInputTokenEnd)="onAddPriorityTag($event)">
                                    </mat-chip-list>
                                    <mat-hint class="mat-error" style="font-weight: 600" *ngIf="submitted && priorityAvailabilityTags.length ===0 && this.permission?.requiredPriorityTag === true">
                                        {{'ASSETS_MANAGEMENT.pleaseAddAtleastOne' | translate}}{{permission?.alternativePriorityTag===''?('ASSETS_MANAGEMENT.Priority Tag'| translate):(permission?.alternativePriorityTag | translate)}}
                                    </mat-hint>
                                </mat-form-field>

                            </div>
                            <div class="row">
                                <div *ngIf="permission?.enableHelpButtonText ===true" class="col-xl-6 col-xxl-8">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input formControlName="parkHelpButtonMessage" matInput [placeholder]="permission?.alternativeHelpButtonText===''?('ASSETS_MANAGEMENT.Help Button Text'| translate):(permission?.alternativeHelpButtonText | translate)" >
                                        <mat-error
                                            *ngIf="addResourceGroupForm.controls.parkHelpButtonMessage.errors?.required">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativeHelpButtonText===''?('ASSETS_MANAGEMENT.Help Button Text'| translate):(permission?.alternativeHelpButtonText | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div *ngIf="permission?.enableHelpPhone ===true" class="col-xl-6 col-xxl-4">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input type="number" minlength="10" formControlName="parkHelpPhoneNumber" matInput [placeholder]="permission?.alternativeHelpPhone===''?('ASSETS_MANAGEMENT.Help Phone'| translate):(permission?.alternativeHelpPhone | translate)" >
                                        <mat-error
                                            *ngIf="addResourceGroupForm.controls.parkHelpPhoneNumber.errors?.required">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativeHelpPhone===''?('ASSETS_MANAGEMENT.Help Phone'| translate):(permission?.alternativeHelpPhone | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div *ngIf="permission?.enableRefreshMessage ===true" class="col-xl-6 col-xxl-4">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input formControlName="parkRefreshMessage" matInput [placeholder]="permission?.alternativeRefreshMessage===''?('ASSETS_MANAGEMENT.Refresh Message'| translate):(permission?.alternativeRefreshMessage | translate)" >
                                        <mat-error
                                            *ngIf="addResourceGroupForm.controls.parkRefreshMessage.errors?.required">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativeRefreshMessage===''?('ASSETS_MANAGEMENT.Refresh Message'| translate):(permission?.alternativeRefreshMessage | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div *ngIf="permission?.enableEnableRefreshParkTile===true" class="col-xl-6 col-xxl-4">
                                    <mat-checkbox formControlName="parkRefreshAvailable" class="center-check" >{{permission?.alternativeEnableRefreshParkTile===''?('ASSETS_MANAGEMENT.Enable refresh park tile'| translate):(permission?.alternativeEnableRefreshParkTile | translate)}}</mat-checkbox>
                                    <mat-error style="font-size: 80%;font-weight: 600"
                                        *ngIf="submitted && addResourceGroupForm.controls.parkRefreshAvailable.errors?.required">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativeEnableRefreshParkTile===''?('ASSETS_MANAGEMENT.Enable refresh park tile'| translate):(permission?.alternativeEnableRefreshParkTile | translate)}}
                                    </mat-error>
                                </div>
                                <div *ngIf="permission?.enableRefreshInterval ===true" class="col-xl-6 col-xxl-4">
                                    <mat-form-field appearance="outline" class="element-full-width">
                                        <input formControlName="parkRefreshInterval" matInput [placeholder]="permission?.alternativeRefreshInterval===''?('ASSETS_MANAGEMENT.Refresh interval'| translate):(permission?.alternativeRefreshInterval | translate)" >
                                        <mat-error
                                            *ngIf="addResourceGroupForm.controls.parkRefreshInterval.errors?.required">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativeRefreshInterval===''?('ASSETS_MANAGEMENT.Refresh Message'| translate):(permission?.alternativeRefreshInterval | translate)}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div *ngIf="permission?.enablePersonalParkAutoBookAfterAvailability ===true" class="col-xl-6 col-xxl-3  ">
                                    <mat-checkbox formControlName="personalParkAutoBookAfterAvailability">{{permission?.alternativePersonalParkAutoBookAfterAvailability===''?('ASSETS_MANAGEMENT.Personal park auto-book after availability'| translate):(permission?.alternativePersonalParkAutoBookAfterAvailability | translate)}}</mat-checkbox>
                                    <mat-error style="font-size: 80%;font-weight: 600"
                                        *ngIf="submitted && addResourceGroupForm.controls.personalParkAutoBookAfterAvailability.errors?.required">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativePersonalParkAutoBookAfterAvailability===''?('ASSETS_MANAGEMENT.Personal park auto-book after availability'| translate):(permission?.alternativePersonalParkAutoBookAfterAvailability | translate)}}
                                    </mat-error>
                                </div>
<!--                                <div *ngIf="permission?.enableAvailabilityStart ===true" class="col-xl-6 col-xxl-3">-->
<!--                                    <mat-form-field appearance="outline" class="element-full-width">-->
<!--                                        <input [ngxTimepicker]="pickerStartTime1" matInput [placeholder]="permission?.alternativeAvailabilityStart===''?('ASSETS_MANAGEMENT.Availability Start'| translate):(permission?.alternativeAvailabilityStart | translate)" formControlName="availabilityStart" [format]="24">-->
<!--                                        <mat-icon matSuffix (click)="pickerStartTime1.open()">schedule</mat-icon>-->
<!--                                        <ngx-material-timepicker #pickerStartTime1 [format]="24" >-->
<!--                                        </ngx-material-timepicker>-->
<!--                                        <mat-error *ngIf="addResourceGroupForm.controls.availabilityStart.errors?.required">-->
<!--                                            {{'ASSETS_MANAGEMENT.pleaseEnterAvailabilityStart'|translate}}-->
<!--                                        </mat-error>-->
<!--                                    </mat-form-field>-->
<!--                                </div>-->
<!--                                <div *ngIf="permission?.enableAvailabilityHours ===true" class="col-xl-6 col-xxl-3">-->
<!--                                    <mat-form-field appearance="outline" class="element-full-width">-->
<!--                                        <input type="number" formControlName="availabilityHoursAfterStart" matInput [placeholder]="permission?.alternativeAvailabilityHours===''?('ASSETS_MANAGEMENT.Availability Hours'| translate):(permission?.alternativeAvailabilityHours | translate)">-->
<!--                                        <mat-error *ngIf="addResourceGroupForm.controls.availabilityHoursAfterStart.errors?.required">-->
<!--                                            {{'ASSETS_MANAGEMENT.pleaseEnterAvailabilityHoursAfterStart' |translate}}-->
<!--                                        </mat-error>-->
<!--                                    </mat-form-field>-->
<!--                                </div>-->
                                <div *ngIf="permission?.enableEmailAlert ===true" class="col-xl-6 col-xxl-3">
                                    <button type="button" class="btn-style theme-btn w-100 action-button" color="primary"
                                            (click)="onStartMailClick(1)">{{permission?.alternativeEmailAlert===''?('ASSETS_MANAGEMENT.Email alert'| translate):(permission?.alternativeEmailAlert | translate)}}</button>
                                    <mat-error style="font-size: 80%;font-weight: 600"
                                               *ngIf="submitted && !this.notificationMailStartSubject && !this.notificationMailStartBody && permission.requiredEmailAlert">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativeEmailAlert===''?('ASSETS_MANAGEMENT.Email alert'| translate):(permission?.alternativeEmailAlert | translate)}}
                                    </mat-error>
                                </div>
                                <div *ngIf="permission?.enablePickupEmail ===true" class="col-xl-6 col-xxl-3">
                                    <button type="button" class="btn-style theme-btn w-100 action-button" color="primary"
                                            (click)="onEndMailClick(2)">{{permission?.alternativePickupEmail===''?('ASSETS_MANAGEMENT.Pickup Email'| translate):(permission?.alternativePickupEmail | translate)}}</button>
                                    <mat-error style="font-size: 80%;font-weight: 600"
                                               *ngIf="submitted && !this.notificationMailEndSubject && !this.notificationMailEndBody && permission.requiredEmailAlert">{{'ASSETS_MANAGEMENT.pleaseEnter' | translate}}{{permission?.alternativePickupEmail===''?('ASSETS_MANAGEMENT.Pickup Email'| translate):(permission?.alternativePickupEmail | translate)}}
                                    </mat-error>
                                </div>
                            </div>

                            <ng-container *ngIf="permission?.enableTimeSlot ===true">
                                <div class="table-heading">
                                    <h3 style="font-weight: 600"><span>{{permission?.alternativeTimeSlot===''?('ASSETS_MANAGEMENT.addTimeSlot'| translate):(permission?.alternativeTimeSlot | translate)}}</span> </h3>
                                </div>
                                <form class="w-100" (ngSubmit)="saveTimeSlot()" name="timeSlotForm" [formGroup]= "timeSlotForm"  novalidate #myform="ngForm">
                                    <div class="row">
                                        <div class="col-xl-6 col-xxl-3">
                                            <div class="form-field">
                                                <mat-form-field appearance="outline" class="element-full-width">
                                                    <mat-label>{{'ASSETS_MANAGEMENT.Label' | translate}}<span class="red-label">*</span></mat-label>
                                                    <input formControlName="name"   type="text"  matInput  name="name" >
                                                      <mat-error *ngIf="timeSlotForm.controls.name.errors?.required" >
                                                      {{'ASSETS_MANAGEMENT.pleaseEnterLabel'| translate}}
                                                      </mat-error>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <div class="col-xl-6 col-xxl-3">
                                            <div class="form-field">
                                                <mat-form-field appearance="outline" class="element-full-width">
                                                    <input formControlName="startTime" name="startTime" [ngxTimepicker]="pickerStartTime2" matInput placeholder="{{'ASSETS_MANAGEMENT.Start Time' | translate}}" [format]="24">
                                                    <mat-icon matSuffix (click)="pickerStartTime2.open()">schedule</mat-icon>
                                                    <ngx-material-timepicker (timeChanged)="onTimeChange($event)" #pickerStartTime2 [format]="24" >
                                                    </ngx-material-timepicker>
                                                    <mat-error *ngIf="timeSlotForm.controls.startTime.errors?.required" >
                                                        {{'ASSETS_MANAGEMENT.pleaseEnterStartTime'| translate}}
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <div class="col-xl-6 col-xxl-3">
                                            <div class="form-field">
                                                <mat-form-field appearance="outline" class="element-full-width">
                                                    <input formControlName="endTime" name="endTime" [min]="startTimeValue" [ngxTimepicker]="pickerStartTime3" matInput placeholder="{{'ASSETS_MANAGEMENT.End Time' | translate}}" [format]="24">
                                                    <mat-icon matSuffix (click)="pickerStartTime3.open()">schedule</mat-icon>
                                                    <ngx-material-timepicker #pickerStartTime3 [format]="24" >
                                                    </ngx-material-timepicker>
                                                    <mat-error *ngIf="timeSlotForm.controls.endTime.errors?.required" >
                                                        {{'ASSETS_MANAGEMENT.pleaseEnterEndTime'| translate}}
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <div class="col-xl-6 col-xxl-3">
                                            <div class="form-field">
                                                <mat-form-field appearance="outline" class="element-full-width phone">
                                                    <mat-label>{{'ASSETS_MANAGEMENT.Max Parallel Chargers' | translate}}<span class="red-label">*</span></mat-label>
                                                    <input formControlName="maxCount"  type="number"  matInput  name="maxCount">
                                                     <mat-error *ngIf="timeSlotForm.controls.maxCount.errors?.required">
                                                     {{'ASSETS_MANAGEMENT.pleaseEnterMaxParallelChargers' | translate}}
                                                     </mat-error>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-xxl-2">
                                            <button type="submit" class="btn-style theme-btn" ><mat-icon>add</mat-icon></button>
                                        </div>
                                    </div>
                                </form>
                            <div class="table-wrapper" style="margin-top: 10px">
                                <table #timeSlotTable [dataSource]="this.addResourceGroupForm.value.availabilityTimeslots" mat-table style="width: 100%" >
                                    <ng-container matColumnDef="label">
                                        <th  class="short-arrow" *matHeaderCellDef  style="min-width: 120px;">{{'ASSETS_MANAGEMENT.Label' | translate}}</th>
                                        <td *matCellDef="let element" mat-cell  style="min-width: 120px;text-transform:capitalize;">{{element.name ? element.name : '-'}}</td>
                                    </ng-container>
                                    <ng-container matColumnDef="startTime">
                                        <th  class="short-arrow" *matHeaderCellDef  style="min-width: 120px;">{{'ASSETS_MANAGEMENT.Start Time' |translate}}</th>
                                        <td *matCellDef="let element" mat-cell  style="min-width: 120px;text-transform:capitalize;">{{element.startTime ? (element.startTime | date: 'HH:mm') : '-'}}</td>
                                    </ng-container>
                                    <ng-container matColumnDef="endTime">
                                        <th  class="short-arrow" *matHeaderCellDef  style="min-width: 120px;">{{'ASSETS_MANAGEMENT.End Time' |translate}}</th>
                                        <td *matCellDef="let element" mat-cell  style="min-width: 120px;text-transform:capitalize;">{{element.endTime ? (element.endTime | date: 'HH:mm') : '-'}}</td>
                                    </ng-container>
                                    <ng-container matColumnDef="charges">
                                        <th  class="short-arrow" *matHeaderCellDef  style="min-width: 120px;">{{'ASSETS_MANAGEMENT.Max Parallel Chargers' |translate}}</th>
                                        <td *matCellDef="let element" mat-cell  style="min-width: 120px;text-transform:capitalize;">{{element.maxCount ? element.maxCount : '-'}}</td>
                                    </ng-container>
                                    <ng-container matColumnDef="action">
                                        <th  *matHeaderCellDef style="min-width: 200px;width: 200px;">
                                            {{'TABLE.Action' | translate}}
                                        </th>
                                        <td *matCellDef="let element; let i = index" mat-cell style="min-width: 200px;width: 200px;">
                                            <img src="assets/images/delete-action.svg" class="cursor-pointer" matTooltip="{{'Delete' | translate}}" (click)="onDeleteTimeSlotItem(element)" alt="">
                                        </td>
                                    </ng-container>
                                    <tr *matHeaderRowDef="timeSlotDisplayedColumns" mat-header-row></tr>
                                    <tr *matRowDef="let element; columns: timeSlotDisplayedColumns" mat-row></tr>
                                </table>
                                <div *ngIf="this.addResourceGroupForm.value.availabilityTimeslots.length ===0" class="no-record-found m-4"><strong>{{'GENERAL.No'| translate}}{{permission?.alternativeTimeSlot===''?('ASSETS_MANAGEMENT.Time Slot'| translate):(permission?.alternativeTimeSlot | translate)}}</strong></div>
                                <div class="no-record-found m-4">
                                    <mat-error style="font-weight: 600" *ngIf="submitted && this.addResourceGroupForm.value.availabilityTimeslots.length ===0 && this.permission?.requiredTimeSlot === true">
                                       {{'ASSETS_MANAGEMENT.pleaseAddAtleastOne' | translate}}{{permission?.alternativeTimeSlot===''?('ASSETS_MANAGEMENT.Time Slot'| translate):(permission?.alternativeTimeSlot | translate)}}
                                    </mat-error>
                                </div>
                            </div>

                            </ng-container>
                            <div class="common-tabbing">
                                <mat-tab-group animationDuration="0ms" >
                                    <mat-tab *ngIf="permission?.enableArea ===true" class="mt-5" label="Area" style="text-transform:capitalize;">
                                        <ng-template mat-tab-label>
                                            <span style="text-transform:capitalize;" >{{permission?.alternativeArea===''?('ASSETS_MANAGEMENT.Area'| translate):(permission?.alternativeArea | translate)}}</span>
                                        </ng-template>
                                        <div class="table-heading">
                                            <h3 style="font-weight: 600">{{permission?.alternativeArea===''?('ASSETS_MANAGEMENT.Area'| translate):(permission?.alternativeArea | translate)}}</h3>
                                            <div class="search-form-wrapper">
                                                <button type="button" color="primary" class="btn-style theme-btn sm-btn action-button" color="primary" (click)="onAddListItem(LIST_ITEM.liAreas)" cdkFocusInitial>
                                                    <i class="material-icons" [ngStyle]="{'color': 'white'}">add</i>{{'GENERAL.Add'|translate}} {{permission?.alternativeArea===''?('ASSETS_MANAGEMENT.Area'| translate):(permission?.alternativeArea | translate)}}
                                                </button>
                                            </div>
                                        </div>
                                        <div class="table-wrapper">
                                            <table #tableArea [dataSource]="addResourceGroupForm.value.customData.areas" mat-table style="width: 100%" >
                                                <ng-container matColumnDef="name">
                                                    <th  class="short-arrow" *matHeaderCellDef  style="min-width: 120px;">{{permission?.alternativeArea===''?('ASSETS_MANAGEMENT.Area'| translate):(permission?.alternativeArea | translate)}}</th>
                                                    <td *matCellDef="let element" mat-cell  style="min-width: 120px;text-transform:capitalize;">{{element.name ? element.name : '-'}}</td>
                                                </ng-container>
                                                <ng-container matColumnDef="action">
                                                    <th  *matHeaderCellDef style="min-width: 200px;width: 200px;">
                                                        {{'TABLE.Action' | translate}}
                                                    </th>
                                                    <td *matCellDef="let element; let i = index" mat-cell style="min-width: 200px;width: 200px;">
                                                        <img src="assets/images/delete-action.svg" class="cursor-pointer" matTooltip="{{'Delete' | translate}}" (click)="onDeleteListItem(LIST_ITEM.liAreas, element)" alt="">
                                                    </td>
                                                </ng-container>
                                                <tr *matHeaderRowDef="resourceTypeListDisplayedColumns" mat-header-row></tr>
                                                <tr *matRowDef="let element; columns: resourceTypeListDisplayedColumns" mat-row></tr>
                                            </table>
                                            <div *ngIf="addResourceGroupForm.value.customData.areas?.length === 0" class="no-record-found m-4"><strong>{{'GENERAL.No'| translate}} {{permission?.alternativeArea===''?('ASSETS_MANAGEMENT.Area'| translate):(permission?.alternativeArea | translate)}}</strong></div>
                                            <div class="no-record-found m-4">
                                                <mat-error style="font-weight: 600" *ngIf="submitted && this.addResourceGroupForm.value.customData.areas?.length ===0 && this.permission?.requiredArea === true">
                                                    {{'ASSETS_MANAGEMENT.pleaseAddAtleastOne' | translate}}{{permission?.alternativeArea===''?('ASSETS_MANAGEMENT.Area'| translate):(permission?.alternativeArea | translate)}}
                                                </mat-error>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <mat-tab *ngIf="permission?.enableFacility ===true" class="mt-5" label="Facility" style="text-transform:capitalize;">
                                        <ng-template mat-tab-label>
                                            <span style="text-transform:capitalize;">{{permission?.alternativeFacility===''?('ASSETS_MANAGEMENT.Facility'| translate):(permission?.alternativeFacility | translate)}}</span>
                                        </ng-template>
                                        <div class="table-heading">
                                            <h3 style="font-weight: 600">{{permission?.alternativeFacility===''?('ASSETS_MANAGEMENT.Facility'| translate):(permission?.alternativeFacility | translate)}}</h3>
                                            <div class="search-form-wrapper">
                                                <button type="button" color="primary" class="btn-style theme-btn sm-btn action-button" color="primary" (click)="onAddListItem(LIST_ITEM.liFacility)" cdkFocusInitial>
                                                    <i class="material-icons" [ngStyle]="{'color': 'white'}">add</i>{{'GENERAL.Add'|translate}} {{permission?.alternativeFacility===''?('ASSETS_MANAGEMENT.Facility'| translate):(permission?.alternativeFacility | translate)}}
                                                </button>
                                            </div>
                                        </div>
                                        <div class="table-wrapper">
                                            <table #tableFacility [dataSource]="addResourceGroupForm.value.customData.facilities" mat-table style="width: 100%" >
                                                <ng-container matColumnDef="name">
                                                    <th  class="short-arrow" *matHeaderCellDef  style="min-width: 120px;">{{permission?.alternativeFacility===''?('ASSETS_MANAGEMENT.Facility'| translate):(permission?.alternativeFacility | translate)}}</th>
                                                    <td *matCellDef="let element" mat-cell  style="min-width: 120px;text-transform:capitalize;">{{element.name ? element.name : '-'}}</td>
                                                </ng-container>
                                                <ng-container matColumnDef="action">
                                                    <th  *matHeaderCellDef style="min-width: 200px;width: 200px;">
                                                        {{'TABLE.Action' | translate}}
                                                    </th>
                                                    <td *matCellDef="let element; let i = index" mat-cell style="min-width: 200px;width: 200px;">
                                                        <img src="assets/images/delete-action.svg" class="cursor-pointer" matTooltip="{{'Delete' | translate}}" (click)="onDeleteListItem(LIST_ITEM.liFacility, element)" alt="">
                                                    </td>
                                                </ng-container>
                                                <tr *matHeaderRowDef="resourceTypeListDisplayedColumns" mat-header-row></tr>
                                                <tr *matRowDef="let element; columns: resourceTypeListDisplayedColumns" mat-row></tr>
                                            </table>
                                            <div *ngIf="addResourceGroupForm.value.customData.facilities?.length === 0" class="no-record-found m-4"><strong>{{'GENERAL.No'| translate}} {{permission?.alternativeFacility===''?('ASSETS_MANAGEMENT.Facility'| translate):(permission?.alternativeFacility | translate)}}</strong></div>
                                            <div class="no-record-found m-4">
                                                <mat-error style="font-weight: 600" *ngIf="submitted && this.addResourceGroupForm.value.customData.facilities?.length ===0 && this.permission?.requiredFacility === true">
                                                    {{'ASSETS_MANAGEMENT.pleaseAddAtleastOne' | translate}}{{permission?.alternativeFacility===''?('ASSETS_MANAGEMENT.Facility'| translate):(permission?.alternativeFacility | translate)}}
                                                </mat-error>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <mat-tab *ngIf="permission?.enableLayout ===true" class="mt-5" label="Layout" style="text-transform:capitalize;">
                                        <ng-template mat-tab-label>
                                            <span style="text-transform:capitalize;">{{permission?.alternativeLayout===''?('ASSETS_MANAGEMENT.Layout'| translate):(permission?.alternativeLayout | translate)}}</span>
                                        </ng-template>
                                        <div class="table-heading">
                                            <h3 style="font-weight: 600">{{permission?.alternativeLayout===''?('ASSETS_MANAGEMENT.Layout'| translate):(permission?.alternativeLayout | translate)}}</h3>
                                            <div class="search-form-wrapper">
                                                <button type="button" color="primary" class="btn-style theme-btn sm-btn action-button" color="primary" (click)="onAddListItem(LIST_ITEM.liLayout)" cdkFocusInitial>
                                                    <i class="material-icons" [ngStyle]="{'color': 'white'}">add</i>{{'GENERAL.Add'|translate}} {{permission?.alternativeLayout===''?('ASSETS_MANAGEMENT.Layout'| translate):(permission?.alternativeLayout | translate)}}
                                                </button>
                                            </div>
                                        </div>
                                        <div class="table-wrapper">
                                            <table #tableLayouts [dataSource]="addResourceGroupForm.value.customData.layouts" mat-table style="width: 100%" >
                                                <ng-container matColumnDef="name">
                                                    <th  class="short-arrow" *matHeaderCellDef  style="min-width: 120px;">{{permission?.alternativeLayout===''?('ASSETS_MANAGEMENT.Layout'| translate):(permission?.alternativeLayout | translate)}}</th>
                                                    <td *matCellDef="let element" mat-cell  style="min-width: 120px;text-transform:capitalize;">{{element.name ? element.name : '-'}}</td>
                                                </ng-container>
                                                <ng-container matColumnDef="action">
                                                    <th  *matHeaderCellDef style="min-width: 200px;width: 200px;">
                                                        {{'TABLE.Action' | translate}}
                                                    </th>
                                                    <td *matCellDef="let element; let i = index" mat-cell style="min-width: 200px;width: 200px;">
                                                        <img src="assets/images/delete-action.svg" class="cursor-pointer" matTooltip="{{'Delete' | translate}}" (click)="onDeleteListItem(LIST_ITEM.liLayout, element)" alt="">
                                                    </td>
                                                </ng-container>
                                                <tr *matHeaderRowDef="resourceTypeListDisplayedColumns" mat-header-row></tr>
                                                <tr *matRowDef="let element; columns: resourceTypeListDisplayedColumns" mat-row></tr>
                                            </table>
                                            <div *ngIf="addResourceGroupForm.value.customData.layouts?.length === 0" class="no-record-found m-4"><strong>{{'GENERAL.No'| translate}} {{permission?.alternativeLayout===''?('ASSETS_MANAGEMENT.Layout'| translate):(permission?.alternativeLayout | translate)}}</strong></div>
                                            <div class="no-record-found m-4">
                                                <mat-error style="font-weight: 600" *ngIf="submitted && this.addResourceGroupForm.value.customData.layouts?.length ===0 && this.permission?.requiredLayout === true">
                                                    {{'ASSETS_MANAGEMENT.pleaseAddAtleastOne' | translate}}{{permission?.alternativeLayout===''?('ASSETS_MANAGEMENT.Layout'| translate):(permission?.alternativeLayout | translate)}}
                                                </mat-error>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <div class="form-field" *ngIf="permission?.name ===true"></div>
                                </mat-tab-group>
                            </div>
                        <div class="form-footer d-flex justify-content-between">
                            <button class="btn-style red-line-btn" routerLink="/assets-management/resource-group" type="button">{{'GENERAL.Cancel' | translate}}</button>
                            <!--<button class="btn-style theme-btn" type="submit" routerLink="add-edit-parking">Save & Next <mat-icon>arrow_forward</mat-icon></button>-->
                            <button class="btn-style theme-btn" type="submit">{{'GENERAL.Save' | translate}}</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
